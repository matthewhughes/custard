/*  ScraperWiki styles are built for small devices first.
    Then, as the screen gets bigger, base styles are overridden.

    We follow a roughly column-based layout, where columns are 280px wide,
    with a 20px gutter. Our breakpoints are therefore 620px, 920px and 1120px.

    Floating columns to the left means they'll break above and below each other
    on narrow screens. The responsive .container class will make sure they stay
    centred on the user's screen. */

html, body {
  position: relative;
  width: 100%;
  height: 100%;
}

/* A .container style is set in scraperwiki.css, which most pages will use.
   Some tools, however, might look better full screen. When this happens,
   the other .container elements (eg: header) should get 100% width too. */

body.fullscreen .container {
  width: 100%;
}

#fullscreen iframe {
  width: 100%;
  height: 100%;
}

#header {
  display: block;
  background-color: #f6f6f6;
  border-bottom: 1px solid #e6e6e6;
  line-height: 50px;
  font-size: 18px;
  height: 50px;
  width: 100%;
}

#header .container {
  margin-bottom: 0;
  position: relative;
  background: transparent url(../image/header-highlight.png) 0 0 no-repeat;
}

#logo {
  display: inline-block;
  width: 180px;
  height: 50px;
  line-height: 50px;
  margin-left: 20px;
  text-indent: -9000px;
  outline: none;
  background: transparent url(../image/header-logo.png) 0 11px no-repeat;
}

#logo:active {
  background-position: 0 12px;
}

#header nav {
  display: none; /* :TODO: work out how to display nav for small devices */
}

#subnav {
  margin-bottom: 0;
  margin-top: 20px;
  text-align: center; /* We'll override this for large-screened devices later */
}

.subnav-wrapper > hr { /* used on dataset overview pages etc to visually separate header from content */
  float: left;
  clear: both;
  width: 100%;
  margin: 10px 0 0 0;
  border-top-color: #eee; /* slightly lighter than normal bootstrap hr's */
}

#subnav-path {
  line-height: 32px;
}

#subnav h1 {
  margin: 0;
  font-weight: normal;
  line-height: 32px;
}

#subnav-path > .btn-group > .btn {
  color: #333;
  font-size: 24px;
  line-height: 32px;
  padding: 0 4px;
}

#subnav-path #editable-input {
  color: #333;
  font-size: 24px;
  line-height: 32px;
  padding: 0 4px;
  margin: 0;
  height: 32px;
}

#subnav-path .editable:hover:after,
#subnav-path .editable.saved:after,
#subnav-path .editable.error:after {
    content: "";
    display: inline-block;
    width: 14px;
    height: 14px;
    background: transparent url("../vendor/image/glyphicons-halflings.png") 0 -72px no-repeat;
    margin-left: 5px;
}

#subnav-path .editable.saved:after {
    background-position: -288px 0;
}

#subnav-path .editable.error:after {
  background-position: 0 -120px;
}

#subnav-path > h1 > a {
  position: relative;
  margin-left: -4px;
  /* We'll override these next settings for large-screened devices later */
  width: 260px;
  text-overflow: ellipsis;
  overflow: hidden;
  text-align: left;
}

#subnav-path > .context-switch > .btn {
  padding-right: 20px;
}

#subnav-path > .context-switch > a:hover,
#subnav-path > .context-switch.open > a {
  border-color: #ccc;
  padding-top: 4px;
  padding-bottom: 4px;
  margin-top: -4px;
  margin-bottom: -4px;
  text-decoration: none;
}

#subnav-path > .context-switch > a .caret {
  position: absolute;
  top: 50%;
  right: 6px;
  margin-top: -1px;
}

#subnav-path > h1 > a img {
  vertical-align: top;
  margin-right: 9px;
  -webkit-border-radius: 2px;
  border-radius: 2px;
  -webkit-box-shadow: 0 0 1px #666;
  box-shadow: 0 0 1px #666;
  height: 32px;
  min-width: 32px;
}

#subnav-path .slash {
  font-size: 24px;
  color: #ccc;
  display: inline-block;
  padding: 1px;
  vertical-align: middle;
}

.context-switch .dropdown-menu {
  width: 100%;
  left: -3px;
}

.context-switch .dropdown-menu .search {
  text-align: center;
  padding: 7px 0 10px 0
}

.context-switch .dropdown-menu .search input {
  margin-bottom: 0;
  width: 75%;
}

.context-switch .dropdown-menu > .context-search-result > a {
  line-height: 24px;
  height: 24px;
}

.context-switch .context-search-result img {
  margin-right: 5px;
  height: 24px;
  min-width: 24px;
}

.context-switch .no-matches {
  text-align: center;
  padding-bottom: 5px;
  color: #999;
}

#subnav-options .btn-group + .btn-group {
  margin-left: 10px;
}

#subnav-options .search-query {
  width: 100px;
}

a.tile {
  position: relative;
  display: block;
  float: left;
  margin: 20px 0 0 20px;
  width: 280px;
  height: 140px;
  background-color: #15af90;
  color: #fff;
  text-shadow: 0 1px 1px rgba(0,0,0,0.1);
}

a.view.tile {
  height: auto;
  float: none;
}

a.tile:hover {
  text-decoration: none;
}

a.tile:last-child {
  margin-bottom: 20px;
}

a.tile.new-dataset {
  line-height: 120px;
  text-align: center;
  font-size: 80px;
  font-weight: 200;
  cursor: pointer;
}

a.tile.new-dataset:hover {
  background-color: #53997f;
}

a.tile.new-dataset:active {
  position: relative;
  top: 1px;
}

a.tile h3 {
  margin: 10px 10px 5px 10px;
  font-weight: normal;
  font-size: 21px;
  line-height: 21px;
}

a.view.tile h3 {
  margin: 0;
  padding: 10px;
}

a.tile .hide {
  position: absolute;
  top: -7px;
  right: -7px;
  display: none;
  height: 0;
  width: 22px;
  padding-top: 22px;
  overflow: hidden;
  background: #15af90 url(../vendor/image/glyphicons-halflings-white.png) no-repeat -308px 4px;
  -webkit-border-radius: 14px;
  -moz-border-radius: 14px;
  border-radius: 14px;
  border: 2px solid #fff;
}

a.tile:hover .hide {
  display: block;
}

a.tile .hide:hover {
  background-color: #e11b2c;
}

div.dataset-overview .dataset .hide {
  display: none; /* don't want to see the hide button on dataset overview page */
}

.tile ul li {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  display: block;
  font-size: 14px;
  line-height: 34px;
  color: rgba(255,255,255,0.8);
  border-top: 1px solid rgba(255,255,255,0.5);
  background-color: rgba(0,0,0,0.1);
  cursor: help;
  -webkit-transition: color linear 0.1s;
     -moz-transition: color linear 0.1s;
       -o-transition: color linear 0.1s;
          transition: color linear 0.1s;
}

.tile:hover ul li {
  color: #fff;
}

.tile li.status {
  padding: 0 45px 0 10px;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.tile li.error {
  background-color: #e11b2c;
  color: #fff;
}

.tile li.views {
  left: auto;
  right: 0;
  width: 35px;
  font-weight: bold;
  text-align: center;
  border-top: none;
  border-left: 1px solid rgba(255,255,255,0.5);
}

#chooser {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  background-color: rgba(0,0,0,0.9);
  overflow: auto;
}

#chooser .header {
  margin-top: 67px;
  position: relative;
}

#chooser .header h2 {
  float: left;
  margin: 0 0 0 20px;
  color: #fff;
  font-size: 24px;
  text-shadow: 0 1px 3px #000;
}

#chooser .header .btn-toolbar {
  float: right;
  margin: 5px 20px 0 0;
}

#chooser .header .search-query {
  border-color: #4e4e4e;
  background-color: #222;
  border-width: 2px;
  box-shadow: none;
  color: white;
}

#chooser .header .search-query:focus {
  border-color: #6c6c6c;
  background-color: #2e2e2e;
}

#chooser .close {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  padding: 10px 20px;
  font-size: 32px;
  line-height: 32px;
  color: white;
  opacity: 0.8;
  text-shadow: 0 3px 6px #000;
}

#chooser .close:hover {
  opacity: 1;
}

a.tool {
  float: left;
  display: table; /* this won't work in IE6/7 */
  width: 280px;
  height: 100px;
  margin: 0 0 0 20px;
  color: #fff;
  text-shadow: 0 3px 6px #000;
  text-decoration: none;
  cursor: pointer;
}

a.tool:active {
  position: relative;
  top: 1px;
}

a.tool:last-child {
  margin-bottom: 20px;
}

a.tool div {
  display: table-cell; /* this won't work in IE6/7 */
  vertical-align: middle;
}

a.tool .tool-info {
  padding-left: 15px; /* 15px spacing between icon and title/description */
  padding-right: 10px; /* 10px here + 20px margin in a.tool = 30px visual spacing between columns */
}

a.tool .tool-icon {
  width: 60px;
  max-width: 60px;
}

a.tool .tool-icon-outer {
  display: block;
  width: 60px;
  height: 64px;
  margin-right: 15px;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  -webkit-box-shadow: 0 3px 6px #000;
  -moz-box-shadow: 0 3px 6px #000;
  border-box-shadow: 0 3px 6px #000;
  background-color: #777;
}

a.tool .tool-icon-inner {
  content: "";
  display: block;
  height: 60px;
  width: 60px;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  background-color: #aaa;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  line-height: 60px;
  font-size: 36px;
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  text-align: center;
  font-weight: bold;
  color: #fff;
}

a.tool h3 {
  margin: 0 0 5px 0;
  font-size: 18px;
  line-height: 18px;
}

a.tool p {
  margin: 0;
  font-size: 14px;
  line-height: 18px;
}

a.tool canvas {
  vertical-align: -6px; /* assumes an ajax loading spinner 38px high */
}

div.dataset-views a.tool {
  margin: 15px 0 15px 0;
  text-shadow: none;
  color: #333;
  height: auto;
  float: none;
}

div.dataset-views a.tool .tool-icon-outer {
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  border-box-shadow: none;
}

div.dataset-overview .about,
div.dataset-overview .actions {
  float: left;
  width: 280px;
  margin: 20px 0 0 20px;
}

div.dataset-overview h4 {
  margin: 0 0 15px 0;
  font-weight: normal;
  color: #999;
  font-size: 16px;
  text-transform: uppercase;
}

div.dataset-overview a.tile {
  margin: 0;
}

div.dataset-overview a.view.tile {
  margin: 0 0 20px 0; /* this is a mess - can it be combined with styles further up?? */
}

div.dataset-overview .dataset-views {
  margin-bottom: 20px;
}

div.dataset-overview .actions .btn-large {
  padding-top: 7px; /* compensate for really big <img> in button */
  padding-bottom: 7px;
  width: 230px; /* make it more substantial */
}

div.dataset-overview .actions .btn-large img {
  vertical-align: -6px;
  margin-right: 10px;
  height: 24px;
  width: 24px;
}

#content p.loading {
    margin-top: 100px;
    padding-top: 50px;
    text-align: center;
    background: transparent url('/image/tool-loader.gif') center top no-repeat;
    color: #666;
    font-size: 20px;
}

div.login-page,
div.create-profile,
div.set-password,
div.fourohfour {
  padding: 20px 0 0 20px;
}

div.docs {
  padding: 20px 20px 0 20px;
  line-height: 24px; /* the default 21px is a bit tight for so much text */
}

div.docs nav.well {
  padding: 8px 0;
  margin-bottom: 0;
}

div.docs nav.well a {
  font-size: 14px;
}

div.docs .well {
  margin-bottom: 15px;
}

div.docs .well .label {
  vertical-align: 2px;
  margin: 0 5px 0 2px;
}

div.docs h3 {
  margin-top: 20px;
}

@media only screen and (min-width: 620px) {

  #subnav {
    text-align: left;
  }

  .subnav-wrapper {
    margin: 0 20px; /* indent #subnav-path and #subnav-options like everything else */
    min-height: 34px;
  }

  .fullscreen .subnav-wrapper {
    margin: 0;
  }

  .fullscreen #subnav-path {
    margin-left: 20px;
  }

  .fullscreen #subnav-options {
    margin-right: 20px;
  }

  #subnav-path {
    float: left;
    margin: 0;
  }

  #subnav-options {
    float: right;
    margin: 2px 0 0 0; /* 2px margin-top + 30px line-height = 32px line-height of #subnav-path */
  }

  #header nav {
    display: block;
    position: absolute;
    top: 0;
    right: 20px;
  }

  #header nav li {
    float: left;
    list-style: none;
  }

  #header nav li + li {
    margin-left: 30px;
  }

  #header nav li a {
    display: block;
    color: #666;
    line-height: 50px;
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 1px 0 white;
  }

  #header nav li a:hover {
    color: #333;
    text-decoration: none;
  }

  #header nav li img {
    margin-left: 5px;
    vertical-align: -5px;
    -webkit-border-radius: 2px;
    border-radius: 2px;
    -webkit-box-shadow: 0 1px 0 #fff;
    box-shadow: 0 1px 0 #fff;
  }

  #header nav li.logout a {
    color: #933;
  }

  #header nav li.logout a:hover {
    color: #b00;
  }

  #fullscreen {
    position: fixed;
    top: 120px;
    left: 0;
    right: 0;
    bottom: 0;
  }

  div.docs nav.well {
    float: right;
    margin: 0 0 20px 20px;
  }

}

@media only screen and (min-width: 920px) {

  #subnav-path > h1 > a {
    width: auto;
    text-overflow: none;
    overflow: visible;
  }

  /* This is a bit of a hack to make the dataset overview page easier to parse */
  /* It breaks the 20+280+20+280… grid system, but it looks better */
  div.dataset-overview .actions {
    margin-left: 40px; /* vs the default 20px */
  }

  div.docs {
    position: relative;
    padding-right: 300px;
  }

  div.docs nav.well {
    float: none;
    margin: 0;
    position: absolute;
    top: 30px;
    right: 20px;
    width: 238px;
  }

}

@media only screen and (min-width: 1220px) { }
